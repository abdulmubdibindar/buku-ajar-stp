# Pengantar Analisis Statistik Inferensial

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

::: rmdcapaian
## Capaian Pembelajaran {.unnumbered}

Setelah mempelajari bab ini, Anda diharapkan:

1.  mampu memilih jenis-jenis pengambilan sampel dalam statistik untuk sebuah kasus. [STP-4.1]{.capaian}
2.  mampu menjelaskan hasil perhitungan probabilitas dari suatu nilai sampel dalam distribusi statistik sampel menggunakan *standard error*. [STP-4.2]{.capaian}
:::

## Konsep Dasar Statistika Inferensial

Statistika inferensial adalah cabang statistika yang mempelajari **penarikan kesimpulan tentang populasi berdasarkan data dari sampel**. Konsep-konsep dasar yang perlu dipahami dalam analisis statistika ini meliputi perbedaan antara populasi dan sampel, teknik pengambilan sampel, distribusi sampel dan distribusi statistik sampel, serta prinsip-prinsip seperti teorema limit sentral dan distribusi normal.

Setelah memahami konsep-konsep tersebut, kita dapat melanjutkan pembahasan ke penarikan kesimpulan karakteristik populasi dari hasil sampel, yang mencakup pembuatan estimasi parameter, menghitung peluang, dan mengambil keputusan secara akurat meskipun hanya menggunakan sebagian data dari keseluruhan populasi.

## Populasi vs. Sampel

Dalam penelitian, istilah **populasi** merujuk pada sekumpulan objek yang didefinisikan dengan jelas dan memenuhi syarat tertentu sebagai keseluruhan ruang lingkup yang menjadi target generalisasi penelitian. Populasi dapat berupa manusia, benda, peristiwa, hingga fenomena yang menjadi sasaran kajian penelitian. Karakteristik, seperti rata-rata ($\mu$), proporsi ($P$), atau simpangan baku ($\sigma$), dari suatu populasi disebut **parameter**. Parameter inilah yang ingin diketahui peneliti, namun seringkali tidak mungkin diukur secara langsung karena keterbatasan dalam menjangkau seluruh populasi.

Sebaliknya, **sampel** adalah sebagian kecil dari populasi yang diambil untuk diamati. Sampel yang baik harus mencerminkan karakteristik populasi (representatif) agar data yang diperoleh tetap valid dan reliabel. Karakteristik dari sampel (seperti rata-rata $\bar{x}$, simpangan baku $s$) disebut **statistik**, dan nilai inilah yang digunakan sebagai dasar untuk memperkirakan parameter populasi.

## Teknik-Teknik Pengambilan Sampel

Teknik pengambilan sampel bertujuan memastikan bahwa sampel yang dipilih benar-benar dapat mewakili populasinya. Terdapat dua kelompok besar teknik pengambilan sampel: **probabilitas** dan **non-probabilitas**. Perbedaan kuncinya terletak pada ada/tidak adanya **kerangka sampel** (*sampling frame*), yaitu daftar seluruh anggota populasi.

### Teknik Probabilitas

Teknik ini menggunakan kerangka sampel dan memberikan peluang yang sama bagi setiap anggota untuk terpilih.

1.  **Simple Random Sampling**: Setiap anggota populasi memiliki peluang yang sama untuk dipilih. Dilakukan dengan sistem undian atau pembangkit angka acak.
2.  **Systematic Random Sampling**: Menggunakan interval tertentu. Misalnya, memilih setiap orang ke-5 dari daftar. Dimulai dengan menentukan angka acak awal.
3.  **Stratified Random Sampling**: Populasi dibagi menjadi kelompok-kelompok (**strata**) yang memiliki karakteristik sama (misal: tingkat pendidikan, pendapatan). Sampel diambil secara acak dari setiap strata secara proporsional.
4.  **Cluster Sampling**: Populasi dibagi berdasarkan unit geografis atau klaster (misal: wilayah, blok). Kerangka sampel dibuat berdasarkan daftar klaster, lalu klaster dipilih secara acak.

### Teknik Non-Probabilitas

Teknik ini **tidak** menggunakan kerangka sampel (biasanya karena tidak tersedia), dipilih berdasarkan kemudahan atau pertimbangan tertentu.

1.  **Convenience Sampling**: Didasarkan pada kemudahan akses (misal: orang yang lewat).
2.  **Purposive Sampling**: Didasarkan pada pertimbangan/kriteria tertentu peneliti (misal: ahli di bidang tertentu).
3.  **Quota Sampling**: Menetapkan kuota jumlah untuk setiap kelompok (non-acak).
4.  **Snowball Sampling**: Responden awal merekomendasikan responden berikutnya (berguna untuk populasi tersembunyi).

::: rmdkasus
### Studi Kasus: Teknik Pengambilan Sampel Data Jarak {.unnumbered}

Mari kita simulasikan teknik pengambilan sampel probabilitas menggunakan hasil survei jarak tempat tinggal terhadap **429 mahasiswa** sebuah perguruan tinggi di Lampung (ITERA). Kita akan menganggap seluruh data responden ini sebagai **populasi**.

Pertama, kita siapkan datanya. Kita asumsikan variabel yang kita amati adalah `jarak` tempat tinggal ke kampus (km).

```{r setup-itera, echo=FALSE, message=FALSE, warning=FALSE}
library(readr)
library(dplyr)
library(knitr)

# Baca data (disimulasikan sebagai Populasi)
data_itera <- read_csv("datasets/DataUtama_mhsITERA.csv")

# Bersihkan variabel jarak
data_populasi <- data_itera |>
  mutate(
    jarak = as.numeric(gsub(",", ".", jarak)),
    # Buat variabel strata Tahun Kuliah
    Tahun_Kuliah = case_when(
      Tingkat.Semester %in% c(1, 2) ~ "Pertama",
      Tingkat.Semester %in% c(3, 4) ~ "Kedua",
      Tingkat.Semester %in% c(5, 6) ~ "Ketiga",
      Tingkat.Semester >= 7 ~ "Keempat"
    )
  ) |>
  filter(!is.na(jarak))

N <- nrow(data_populasi)
mu <- mean(data_populasi$jarak)
sigma <- sd(data_populasi$jarak)
```

Populasi kita memiliki $N = `r N`$ mahasiswa dengan rata-rata jarak $\mu = `r round(mu, 2)`$ km. Sekarang kita coba ambil sampel dengan berbagai teknik.

**1. Simple Random Sampling (SRS)**
Kita undi 10 nomor urut mahasiswa secara acak dari total 429 mahasiswa.

```{r srs-demo, echo=FALSE}
set.seed(123)
sampel_srs <- data_populasi |> sample_n(10) |> select(Nomor.urut, jarak)
kable(head(sampel_srs), caption = "Contoh Hasil Simple Random Sampling")
```

**2. Systematic Random Sampling**
Kita ambil setiap mahasiswa kelipatan ke-50 dari daftar urut.

```{r sys-demo, echo=FALSE}
urutan <- seq(from = 1, to = N, by = 50)
sampel_sys <- data_populasi |> slice(urutan) |> select(Nomor.urut, jarak)
kable(head(sampel_sys), caption = "Contoh Hasil Systematic Sampling (Interval 50)")
```

**3. Stratified Random Sampling**
Kita ingin sampel yang proporsional berdasarkan `Tahun_Kuliah`.

```{r strat-demo, echo=FALSE}
# Cek proporsi populasi
data_populasi |> count(Tahun_Kuliah) |> mutate(prop = n/sum(n)) |> kable()

# Ambil sampel berstrata (misal 10% dari tiap strata)
set.seed(123)
sampel_strat <- data_populasi |>
  group_by(Tahun_Kuliah) |>
  sample_frac(0.1) |>
  ungroup()

# Cek hasil sampel
sampel_strat |> count(Tahun_Kuliah) |> kable(caption = "Jumlah Sampel per Strata")
```
:::

### Distribusi Sampel, Statistik Sampel, dan Teorema Limit Sentral

Penting untuk membedakan dua konsep distribusi dalam inferensi:

1.  **Distribusi Sampel**: Sebaran nilai data dari **satu sampel** yang kita ambil. Ini menggambarkan variasi data individu.
2.  **Distribusi Statistik Sampel**: Distribusi teoretis dari suatu **nilai statistik** (misalnya rata-rata) yang dihitung berulang kali dari **banyak sampel** yang mungkin diambil dari populasi yang sama.

**Teorema Limit Sentral (CLT)** menyatakan bahwa apabila ukuran sampel ($n$) cukup besar (biasanya $n \ge 30$), maka **distribusi statistik sampel** (sebaran rata-rata sampel) akan mendekati **distribusi normal**, terlepas dari bentuk distribusi populasi asalnya. Hal ini memungkinkan kita menggunakan statistik parametrik.

::: rmdkasus
### Studi Kasus: Simulasi Teorema Limit Sentral {.unnumbered}

Mari kita buktikan CLT dengan melakukan simulasi dari data populasi mahasiswa tadi. Kita akan mengambil 1000 kali sampel (masing-masing $n=30$), lalu menghitung rata-ratanya dan memplot histogramnya.

```{r clt-demo, echo=FALSE, fig.cap="Perbandingan Distribusi Populasi (Kiri) dan Distribusi Sampling (Kanan)", fig.width=10}
library(ggplot2)
library(gridExtra)

# 1. Distribusi Populasi (Data Asli)
p1 <- ggplot(data_populasi, aes(x = jarak)) +
  geom_histogram(bins=30, fill="gray", color="black", alpha=0.7) +
  geom_vline(xintercept = mu, color="red", size=1) +
  labs(title = paste0("Distribusi Populasi (N=", N, ")"), x="Jarak (km)") + theme_minimal()

# 2. Distribusi Sampling (Rata-rata dari 1000 sampel)
set.seed(999)
means_1000 <- replicate(1000, mean(sample(data_populasi$jarak, 30)))
df_means <- data.frame(means = means_1000)

p2 <- ggplot(df_means, aes(x = means)) +
  geom_histogram(bins=30, fill="steelblue", color="white", alpha=0.9) +
  geom_vline(xintercept = mean(means_1000), color="red", size=1) +
  labs(title = "Distribusi Sampling (n=30, 1000x)", x="Rata-rata Sampel") + theme_minimal()

grid.arrange(p1, p2, ncol=2)
```

Perhatikan gambar di atas. Distribusi populasi (kiri) terlihat "miring" (skewed) ke kanan, artinya tidak normal. Namun, distribusi rata-rata sampelnya (kanan) berbentuk lonceng simetris yang **sempurna normal**. Rata-rata dari distribusi sampling ini juga sangat dekat dengan rata-rata populasi sebenarnya ($\mu = `r round(mu, 2)`$).
:::

### Standard Error (SE)

Standard Error adalah simpangan baku dari distribusi statistik sampel. Ini mengukur seberapa akurat rata-rata sampel kita sebagai estimator rata-rata populasi. Semakin kecil SE, semakin presisi estimasi kita.

$$ SE = \frac{\sigma}{\sqrt{n}} $$

Di mana $\sigma$ adalah simpangan baku populasi dan $n$ adalah ukuran sampel. Jika $\sigma$ tidak diketahui, kita gunakan simpangan baku sampel ($s$) sebagai estimasi.

::: rmdkasus
### Studi Kasus: Menghitung Standard Error {.unnumbered}

Misalkan kita mengambil **satu sampel** acak berukuran $n=100$ mahasiswa dari populasi.

```{r se-demo, echo=FALSE}
set.seed(50)
n_sampel <- 100
satu_sampel <- sample_n(data_populasi, n_sampel)

mean_sampel <- mean(satu_sampel$jarak)
sd_sampel <- sd(satu_sampel$jarak)
```

Dari sampel ini, kita peroleh rata-rata jarak $\bar{x} = `r round(mean_sampel, 2)`$ km.
Kita tahu simpangan baku populasi $\sigma = `r round(sigma, 2)`$. Maka **Standard Error** teoritisnya adalah:

$$ SE = \frac{`r round(sigma, 2)`}{\sqrt{100}} = `r round(sigma / 10, 4)` $$

Nilai ini memberitahu kita bahwa rata-rata sampel kita (`r round(mean_sampel, 2)`) diperkirakan menyimpang sekitar $\pm `r round(sigma/10, 2)`$ km dari rata-rata populasi sebenarnya.
:::

### Nilai Standar (Z-Score) dalam Inferensi

Z-score menunjukkan posisi suatu nilai dalam distribusi normal baku. Untuk rata-rata sampel, rumusnya menggunakan SE sebagai pembagi (bukan simpangan baku biasa):

$$ Z = \frac{\bar{x} - \mu}{SE} $$

Z-score ini kemudian dapat dikonversi menjadi **probabilitas** (P-value) untuk menentukan seberapa "wajar" atau "langka" sampel yang kita dapatkan.

::: rmdkasus
### Studi Kasus: Menghitung Z-Score dan Peluang {.unnumbered}

Apakah rata-rata sampel kita sebesar **`r round(mean_sampel, 2)` km** itu wajar? Mari hitung Z-score nya.

$$ Z = \frac{`r round(mean_sampel, 2)` - `r round(mu, 2)`}{`r round(sigma/10, 4)`} $$

```{r z-demo, echo=FALSE}
se_teoritis <- sigma / sqrt(n_sampel)
z_score <- (mean_sampel - mu) / se_teoritis
probabilitas <- pnorm(z_score)
```

Hasil:
-   Z-score = **`r round(z_score, 2)`**
-   Probabilitas ($P(Z < z)$) = **`r round(probabilitas, 4)`**

Artinya, peluang mendapatkan sampel dengan rata-rata `r round(mean_sampel, 2)` km atau lebih kecil dari populasi ini adalah sekitar **`r round(probabilitas*100, 1)`%**. Angka ini cukup besar (jauh dari 5% atau 0.05), sehingga sampel kita dianggap masih wajar dan berasal dari populasi tersebut.
:::

::: rmdexercise
## Soal Evaluasi 5 {.unnumbered}

1.  **Studi Kasus Survei Keakraban**. [STP-4.1]{.capaian}
    Sebuah acara keakraban angkatan Anda akan dilakukan di suatu tempat yang memerlukan biaya sewa tempat. Agar acara Anda dihadiri sebanyak mungkin orang, Anda menanyakan kesediaan kawan-kawan Anda. Anda pun merancang sebuah survei untuk mengetahui persentase kawan Anda yang setuju acara keakraban diadakan di tempat tersebut. Untuk itu Anda menanyakan sebagian kawan Anda sebagai sampel.
    a.  Apabila Anda memiliki daftar nama seluruh kawan Anda, apa nama teknik pengambilan sampel yang Anda bisa lakukan?
    b.  Jelaskan bagaimana metode Anda memilih sampel kawan Anda berdasarkan kondisi di soal ke-1 tersebut.
    c.  Apabila Anda tidak memiliki daftar nama seluruh kawan Anda, apa nama teknik pengambilan sampel yang Anda bisa lakukan?
    d.  Jelaskan bagaimana metode Anda memilih sampel kawan Anda berdasarkan kondisi di soal ke-3 tersebut.

2.  Jelaskan perbedaan antara simpangan baku (*standard deviation*) dengan *standard error*! [STP-4.2]{.capaian}

3.  **Kasus Jarak Tempat Tinggal**. [STP-4.2]{.capaian}
    Suatu sampel pegawai ITERA berjumlah 286 orang yang mengukur jarak tempat tinggal mereka ke kampus menghasilkan rata-rata 7,90 km dan simpangan baku 6,42 km.
    a.  Jelaskan perbedaan distribusi sampel dengan distribusi statistik sampel menggunakan kasus ini.
    b.  Apakah kita dapat menggunakan teorema limit sentral dalam perhitungan probabilitas distribusi statistik sampel kita tersebut? Jelaskan jawaban Anda.
    c.  Katakanlah parameternya (rata-rata jarak tempat tinggal seluruh pegawai ITERA) diketahui sebesar 7,5 km, Hitunglah nilai standar (z-score) sampel kita.
    d.  Hitunglah probabilitas kita mendapatkan nilai rata-rata seperti yang ditanyakan dalam 3.c tersebut dan jelaskan maknanya.
:::
